<div id="modalAddReparation{{vehicule.id}}" class="modal fade" role="dialog" ng-controller="ReparationsController">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Ajouter une réparation sur le véhicule {{vehicule.marque + ' ' + vehicule.modele}}</h4>
            </div>
            <form name="addReparationForm{{vehicule.id}}" id="addReparationForm{{vehicule.id}}" 
                  novalidate ng-submit="addReparation()">
                <div class="modal-body">
                    <div class="form-group" ng-class="addReparationForm{{vehicule.id}}.intervention.$dirty ? (addReparationForm{{vehicule.id}}.intervention.$valid ? 'has-success':'has-error') : ''">
                        <label for="intervention" class="control-label">Intervention</label>
                        <input type="text" class="form-control" 
                               name="intervention" ng-model="newReparation.intervention" required>
                        <span class="help-block" ng-show="addReparationForm{{vehicule.id}}.intervention.$dirty
                                    && addReparationForm{{vehicule.id}}.intervention.$invalid">
                            Le nom de l'intervention est obligatoire</span>
                    </div>
                    <div class="form-group" ng-class="addReparationForm{{vehicule.id}}.description.$dirty ? (addReparationForm{{vehicule.id}}.description.$valid ? 'has-success':'has-error') : ''">
                        <label for="description" class="control-label">Description</label>
                        <textarea class="form-control" name="description" 
                                  ng-model="newReparation.description" required>
                        </textarea>
                        <span class="help-block" ng-show="addReparationForm{{vehicule.id}}.description.$dirty
                                    && addReparationForm{{vehicule.id}}.description.$invalid">
                            La description est obligatoire</span>
                    </div>
                    <div class="form-group" ng-class="addReparationForm{{vehicule.id}}.date.$dirty ? (addReparationForm{{vehicule.id}}.date.$valid ? 'has-success':'has-error') : ''">
                        <label for="date" class="control-label">Date de l'intervention</label>
                        <input type="date" class="form-control" name="date" datetime="yyyy-MM-dd" ng-model="newReparation.date" required>
                        <span class="help-block" ng-show="addReparationForm{{vehicule.id}}.date.$dirty
                                    && addReparationForm{{vehicule.id}}.date.$invalid">
                            Veuillez entrer une date correcte (2017-02-01 || 01/01/2017)</span>
                    </div>
                </div>
                <input type="hidden" name="vehicule_FK" ng-model="newReparation.vehicule_FK" value="vehicule.id">
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal" 
                            ng-click="resetForm(vehicule.id)">
                        <i class="fa fa-close fa-fw"></i> Annuler</button>
                    <button type="submit" class="btn btn-success"  
                           ng-disabled="addReparationForm{{vehicule.id}}.$invalid">
                        <i class="fa fa-check fa-fw"></i> Enregistrer
                    </button>
                </div>
            </form>
        </div>

    </div>
</div>
